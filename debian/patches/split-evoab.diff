--- libreoffice-3.5.0/postprocess/packcomponents/makefile.mk-old	2011-06-13 23:35:26.000000000 +0000
+++ libreoffice-3.5.0/postprocess/packcomponents/makefile.mk	2011-06-13 23:35:58.000000000 +0000
@@ -388,10 +382,6 @@ my_components += component/connectivity/source/drivers/mozab/bootstrap/mozbootst
 my_components += component/shell/source/cmdmail/cmdmail
 .END
 
-.IF "$(OS)" != "WNT" && "$(ENABLE_EVOAB2)" != ""
-my_components += component/connectivity/source/drivers/evoab2/evoab
-.END
-
 .IF "$(OS)" != "WNT" && "$(ENABLE_GSTREAMER)" != ""
 my_components += component/avmedia/source/gstreamer/avmediagstreamer
 .END
@@ -414,3 +414,20 @@ $(MISC)/services.input : makefile.mk
         '<list>$(my_components:^"<filename>":+".component</filename>")</list>' \
         > $@
 
+.IF "$(ENABLE_EVOAB2)" == "YES"
+ALLTAR : $(MISC)/evoab.rdb
+
+$(MISC)/evoab.rdb .ERRREMOVE : \
+        $(SOLARENV)/bin/packcomponents.xslt \
+        $(MISC)/evoab.input \
+        $(SOLARXMLDIR)/connectivity/source/drivers/evoab2/evoab.component
+    $(XSLTPROC) --nonet --stringparam prefix $(SOLARXMLDIR)/ -o $@ \
+        $(SOLARENV)/bin/packcomponents.xslt \
+        $(MISC)/evoab.input
+
+$(MISC)/evoab.input : makefile.mk
+    echo \
+        '<list><filename>component/connectivity/source/drivers/evoab2/evoab/evoab.component</filename></list>' \
+        > $@
+.END
+
--- libreoffice-3.5.0/postprocess/packregistry/makefile.mk-old	2011-12-20 04:49:53.000000000 +0100
+++ libreoffice-3.5.0/postprocess/packregistry/makefile.mk	2011-12-20 04:52:13.000000000 +0100
@@ -32,6 +32,7 @@ MY_XCDS = \
     $(MISC)/ctl.xcd \
     $(MISC)/ctlseqcheck.xcd \
     $(MISC)/draw.xcd \
+    $(MISC)/evoab.xcd \
     $(MISC)/graphicfilter.xcd \
     $(MISC)/impress.xcd \
     $(MISC)/librelogo.xcd \
@@ -337,8 +338,8 @@ ERROR : unknown-GUIBASE
 MY_FILES_main += $(MY_MOD)/org/openoffice/ucb/Configuration-neon.xcu
 .END
 .IF "$(ENABLE_EVOAB2)" == "TRUE"
-MY_FILES_main += $(MY_MOD)/org/openoffice/Office/DataAccess/Drivers-evoab2.xcu
-MY_FILES_main += $(MY_MOD)/org/openoffice/Office/DataAccess-evoab2.xcu
+MY_FILES_evoab += $(MY_MOD)/org/openoffice/Office/DataAccess/Drivers-evoab2.xcu
+MY_FILES_evoab += $(MY_MOD)/org/openoffice/Office/DataAccess-evoab2.xcu
 MY_DRIVERS += evoab
 .END
 .IF "$(SOLAR_JAVA)" == "TRUE"
--- libreoffice-3.5.0/postprocess/prj/d.lst-old   2011-12-20 11:39:36.000000000 +0000
+++ libreoffice-3.5.0/postprocess/prj/d.lst       2011-12-20 11:40:07.000000000 +0000
@@ -4,4 +4,5 @@
 ..\%__SRC%\misc\lang\*.xcd %_DEST%\xml\
 ..\%__SRC%\misc\scriptproviderforbeanshell.rdb %_DEST%\xml\scriptproviderforbeanshell.rdb
 ..\%__SRC%\misc\scriptproviderforjavascript.rdb %_DEST%\xml\scriptproviderforjavascript.rdb
+..\%__SRC%\misc\evoab.rdb %_DEST%\xml\evoab.rdb
 ..\%__SRC%\misc\services.rdb %_DEST%\xml\services.rdb
--- libreoffice-3.5.0/scp2/source/ooo/file_library_ooo.scp-old	2011-12-20 05:11:44.000000000 +0100
+++ libreoffice-3.5.0/scp2/source/ooo/file_library_ooo.scp	2011-12-20 05:12:07.000000000 +0100
@@ -446,6 +446,13 @@
 
 STD_LIB_FILE( gid_File_Lib_Evoab , evoab)
 
+File gid_File_Share_Registry_Evoab_Xcd
+    TXT_FILE_BODY;
+    Styles = (PACKED);
+    Dir = gid_Brand_Dir_Share_Registry;
+    Name = "evoab.xcd";
+End
+
 #endif  // #ifdef ENABLE_EVOAB2
 
 #endif  // #ifdef UNX
--- libreoffice-3.5.0/scp2/source/gnome/module_gnome.scp-old	2011-12-20 05:15:16.000000000 +0100
+++ libreoffice-3.5.0/scp2/source/gnome/module_gnome.scp	2011-12-20 05:15:30.000000000 +0100
@@ -43,6 +43,7 @@ Module gid_Module_Optional_Gnome
     Files = (
 #ifdef ENABLE_EVOAB2
       gid_File_Lib_Evoab,
+      gid_File_Share_Registry_Evoab_Xcd,
 #endif
 #ifdef ENABLE_GTK
       gid_File_Lib_Fps_Gnome,
