From 4fb35cfbf4b10d5644fd636ddfe3e07b5a932d45 Mon Sep 17 00:00:00 2001
From: Bjoern Michaelsen <bjoern.michaelsen@canonical.com>
Date: Sun, 24 Jun 2012 14:01:54 +0200
Subject: [PATCH] dont run check targets in build, to allow running them
 separately later

Change-Id: Idb46ebcb427522c74632a1813afcbb841fb61243
---
 Makefile.top            |   10 ++++++++--
 solenv/bin/build.pl     |    2 +-
 solenv/gbuild/Module.mk |    2 +-
 3 files changed, 10 insertions(+), 4 deletions(-)

diff --git a/solenv/gbuild/Module.mk b/solenv/gbuild/Module.mk
index 68c171f..eadfb3c 100644
--- a/solenv/gbuild/Module.mk
+++ b/solenv/gbuild/Module.mk
@@ -92,7 +92,7 @@ $(call gb_Module_get_target,%) :
 .PHONY : all build unitcheck slowcheck subsequentcheck clean check debugrun help showmodules translations
 .DEFAULT_GOAL := all
 
-all : build $(if $(CROSS_COMPILING),,unitcheck $(if $(gb_PARTIAL_BUILD),,slowcheck))
+all : build
 
 build-tools : $(gb_BUILD_TOOLS)
 	$(call gb_Output_announce,loaded tools: $(gb_BUILD_TOOLS),$(true),ALL,6)
diff --git a/Makefile.in b/Makefile.in
index 53ec395..fdc2fb7 100644
--- a/Makefile.in
+++ b/Makefile.in
@@ -402,7 +402,7 @@ findunusedcode:
               | grep -v ^WSObject \
               > unusedcode.easy
 
-check: dev-install subsequentcheck
+check: unitcheck slowcheck dev-install subsequentcheck
 
 dump-deps:
 	@$(SRCDIR)/bin/module-deps.pl $(GNUMAKE) $(SRCDIR)/Makefile.gbuild
